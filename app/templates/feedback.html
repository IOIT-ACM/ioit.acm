{% extends "base.html" %} {% block title %}Feedback Form - IOIT ACM{% endblock
%} {% block og_title %}Give Your Feedback{% endblock %} {% block og_description
%} Help us improve by sharing your valuable feedback. Weâ€™d love to hear your
suggestions, event ideas, and overall experience with the IOIT ACM Student
Chapter. {% endblock %} {% block og_image %}{{ url_for('static',
filename='img/assets/feedback.jpeg') }}{% endblock %} {% block twitter_image
%}{{ url_for('static', filename='img/assets/feedback.jpeg') }}{% endblock %} {%
block twitter_title %}Feedback - IOIT ACM{% endblock %} {% block
twitter_description %} Your feedback matters to us! Share your thoughts and
ideas to help us create a better and more inclusive IOIT ACM community. {%
endblock %} {% block content %}

<div class="max-w-6xl mx-auto p-6 mt-20">
  <h1 class="text-3xl font-bold text-center mb-6">Feedback Form</h1>
  <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
    <div class="w-full flex justify-center mt-10 md:mt-0">
      <div class="w-2/3 md:mt-20 relative h-fit sticky top-32">
        <div
          id="rotate"
          class="aspect-square bg-blue-500 w-1/2 h-auto transform absolute border border-white rounded-xl"
        ></div>
        <div
          class="aspect-square overflow-hidden bg-blue-500 w-full h-auto transform rotate-45 rounded-3xl border-4 border-white shadow-lg shadow-blue-400"
        >
          <video
            id="about-video"
            src="{{ url_for('static', filename='vid/feedback.mp4') }}"
            alt="About Us Image"
            class="object-cover h-full w-full cursor-pointer"
            muted
            autoplay
            loop
            playsinline
          ></video>
        </div>
        <div
          class="aspect-square absolute md:bottom-3 bottom-2 md:right-2 right-1 bg-blue-500 w-1/3 h-auto transform rotate-45 border border-white rounded-xl backdrop-blur-sm backdrop-opacity-80 bg-opacity-60 animate-rotate"
        ></div>
      </div>
    </div>

    <div>
      <form
        id="feedbackForm"
        hx-post="{{ url_for('feedback.handle_feedback') }}"
        hx-target="#thankYouModal"
        hx-swap="outerHTML"
        class="grid gap-4 mt-5 md:mt-0"
      >
        <div>
          <label for="name" class="block text-sm font-medium text-gray-700"
            >Name</label
          >
          <input
            type="text"
            id="name"
            name="name"
            required
            class="w-full mt-1 p-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:outline-none"
          />
        </div>
        <div>
          <label for="branch" class="block text-sm font-medium text-gray-700"
            >Branch</label
          >
          <select
            id="branch"
            name="branch"
            required
            class="w-full mt-1 p-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:outline-none"
          >
            <option value="">Select your branch</option>
            <option value="AI&DS">
              Artificial Intelligence & Data Science
            </option>
            <option value="CS">Computer Science</option>
            <option value="IT">Information Technology</option>
            <option value="INSTRU">Instrumentation</option>
            <option value="ELECTRICAL">Electrical</option>
            <option value="EnTC">Electronics and Telecommunication</option>
          </select>
        </div>
        <div>
          <label for="year" class="block text-sm font-medium text-gray-700"
            >Year</label
          >
          <select
            id="year"
            name="year"
            required
            class="w-full mt-1 p-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:outline-none"
          >
            <option value="">Select your year</option>
            <option value="FY">First Year</option>
            <option value="SY">Second Year</option>
            <option value="TY">Third Year</option>
            <option value="BE">Fourth Year</option>
          </select>
        </div>
        <div class="flex items-center gap-3">
          <div class="flex items-center space-x-2 mt-1">
            <input
              type="checkbox"
              id="is_acm_member"
              name="is_acm_member"
              class="w-5 h-5 rounded-full"
            />
            <label for="is_acm_member"></label>
          </div>
          <label class="block text-sm font-medium text-gray-700"
            >Are you an ACM member?</label
          >
        </div>
        <div class="flex items-center gap-3">
          <div class="flex items-center space-x-2 mt-1">
            <input
              type="checkbox"
              id="is_ioit"
              name="is_ioit"
              class="w-5 h-5 rounded-full"
            />
            <label for="is_ioit"></label>
          </div>
          <label class="block text-sm font-medium text-gray-700"
            >Are you from AISSMS IOIT Pune?</label
          >
        </div>

        <div>
          <label for="events" class="block text-sm font-medium text-gray-700"
            >What events would you like to see conducted by ACM?</label
          >
          <textarea
            id="events"
            name="events"
            rows="4"
            maxlength="500"
            required
            class="w-full mt-1 p-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:outline-none"
            oninput="updateCharacterCount('events', 'events-counter')"
          ></textarea>
          <div class="text-right text-sm text-gray-500">
            <span id="events-counter">0</span>/500
          </div>
        </div>
        <div>
          <label for="feedback" class="block text-sm font-medium text-gray-700"
            >Any additional feedback or suggestions</label
          >
          <textarea
            id="feedback"
            name="feedback"
            rows="4"
            maxlength="500"
            class="w-full mt-1 p-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:outline-none"
            oninput="updateCharacterCount('feedback', 'feedback-counter')"
          ></textarea>
          <div class="text-right text-sm text-gray-500">
            <span id="feedback-counter">0</span>/500
          </div>
        </div>

        <button
          type="submit"
          class="w-full py-3 bg-blue-500 text-white font-semibold rounded-md shadow-md hover:bg-blue-600 focus:ring-2 focus:ring-blue-400 focus:ring-offset-2 focus:outline-none"
        >
          Submit Feedback
        </button>
      </form>
    </div>
  </div>
</div>

<!-- Popup Modal -->
<div
  id="thankYouModal"
  class="fixed inset-0 flex justify-center items-center bg-black bg-opacity-50 hidden"
>
  <div class="bg-white p-6 rounded-lg text-center">
    <h2 class="text-xl font-semibold mb-4">Thank you for your feedback!</h2>
    <p class="mb-4">
      We appreciate your time and input. Click below to return to the homepage.
    </p>
    <a href="/" class="text-blue-500">Go to Homepage</a>
  </div>
</div>

<script>
  function updateCharacterCount(textareaId, counterId) {
    const textarea = document.getElementById(textareaId);
    const counter = document.getElementById(counterId);
    counter.textContent = textarea.value.length;
  }
</script>

{% endblock %}
