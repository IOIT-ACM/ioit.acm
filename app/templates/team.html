{% extends "base.html" %} {% block title %}Our Team - IOIT ACM{% endblock %} {%
block og_title %}We are IOIT ACM - Our Team{% endblock %} {% block
og_description %}Meet the passionate individuals behind IOIT ACM. A team of
skilled members dedicated to innovating and building world-class applications
and experiences.{% endblock %} {% block og_image %}{{ url_for('static',
filename='img/team/team.jpeg') }}{% endblock %} {% block twitter_image %}{{
url_for('static', filename='img/team/team.jpeg') }}{% endblock %} {% block
twitter_title %}Our Team - IOIT ACM{% endblock %} {% block twitter_description
%}Meet the IOIT ACM team: a group of passionate individuals transforming novel
ideas into real-life applications. Join us in our journey to innovate.{%
endblock %} {% block content %}
<div
  class="relative h-auto md:mt-0 mt-20 md:h-[100vh] flex flex-col md:flex-row items-center justify-between bg-gray-100"
>
  <!-- Team Image -->
  <div class="w-full h-auto md:w-1/2 md:h-full px-4 md:px-0 parallax-scroll">
    <img
      src="{{ url_for('static', filename='img/team/team.jpeg') }}"
      alt="Team Header Image"
      class="object-cover bg-gray-300 h-full w-full rounded-br-[200px] md:rounded-br-[200px] rounded-tl-[200px] md:rounded-none border-2 border-blue-400 sm:border-none md:border-none"
    />
  </div>

  <!-- Text Content -->
  <div class="w-full md:w-1/2 text-left p-8 md:p-16">
    <h1 class="text-3xl md:text-5xl font-extrabold text-blue-600 mb-4">
      We are IOIT ACM
    </h1>
    <p class="text-gray-700 mb-6 text-base md:text-lg">
      A group of passionate individuals striving to innovate and build
      world-class applications. Our team consists of technically sound members
      that transform novel ideas into real-life experiences.
    </p>
  </div>
</div>

<div id="team-section" class="text-center my-16 px-4">
  <h2 class="text-4xl font-bold text-blue-600 mb-6">Meet Our Team</h2>

  <!-- Dropdown for Year Selection -->
  <div class="mb-6">
    <label for="year-select" class="text-lg font-semibold">Select Year</label>
    <select id="year-select" class="p-2 rounded-md border border-gray-300">
      {% for year in years %}
      <option value="{{ year }}">{{ year }}</option>
      {% endfor %}
    </select>
  </div>

  <!-- Faculty Sponsor Centered -->
  <div class="flex justify-center mb-12">
    <div
      class="p-6 bg-white shadow-md rounded-lg hover:shadow-xl transition-shadow duration-300 w-full max-w-sm mx-auto"
      role="presentation"
    >
      <img
        src="/static/img/team/meenakshi-thalor.jpg"
        alt="Portrait of Dr. Meenakshi Thalor"
        class="w-full h-auto object-cover rounded-lg shadow-sm hover:shadow-md transition-shadow duration-300"
      />
      <div class="text-center mt-4">
        <h3
          class="text-xl font-medium text-gray-800 hover:text-blue-600 transition-colors duration-200"
        >
          Dr. Meenakshi Thalor
        </h3>
        <p class="text-gray-500 text-sm mt-1">Faculty Sponsor</p>
        <div class="mt-3">
          <a
            href="https://www.linkedin.com/in/dr-meenakshi-thalor-03937840/"
            target="_blank"
            rel="noopener noreferrer"
            class="text-blue-600 hover:text-blue-400 transition duration-200 inline-flex gap-2 items-center"
          >
            <i class="fab fa-linkedin text-lg mr-1"></i>
            <span class="text-sm">Connect on LinkedIn</span>
          </a>
        </div>
      </div>
    </div>
  </div>

  <!-- Team Members Grid -->
  <div
    id="team-cards"
    class="grid grid-cols-2 md:grid-cols-3 gap-6 p-6 mx-auto max-w-7xl"
  >
    {% for member in selected_team_data %}
    <div
      class="flex flex-col items-center text-blue-600 rounded-lg overflow-hidden"
    >
      <!-- Image Section -->
      <div
        class="w-44 h-44 md:w-52 md:h-52 bg-gray-100 border border-gray-300 overflow-hidden rounded-full mb-4 shadow-lg"
      >
        <img
          src="{{ member.image }}"
          alt="{{ member.name }}"
          class="w-full h-full object-cover object-top transition-transform duration-300 hover:scale-110"
        />
      </div>
      <!-- Text Section -->
      <div class="p-4 text-center">
        <h3 class="text-lg font-semibold text-blue-800">{{ member.name }}</h3>
        <p class="text-sm text-gray-500">{{ member.title }}</p>
        <div class="flex justify-center gap-4 mt-3">
          {% if member.linktree %}
          <a
            href="{{ member.linktree }}"
            target="_blank"
            class="text-green-600 hover:text-green-400 transition duration-200"
          >
            <i class="fas fa-link text-lg"></i>
          </a>
          {% endif %} {% if member.instagram %}
          <a
            href="{{ member.instagram }}"
            target="_blank"
            class="text-pink-600 hover:text-pink-400 transition duration-200"
          >
            <i class="fab fa-instagram text-lg"></i>
          </a>
          {% endif %} {% if member.github %}
          <a
            href="{{ member.github }}"
            target="_blank"
            class="text-gray-600 hover:text-gray-400 transition duration-200"
          >
            <i class="fab fa-github text-lg"></i>
          </a>
          {% endif %} {% if member.linkedin %}
          <a
            href="{{ member.linkedin }}"
            target="_blank"
            class="text-blue-600 hover:text-blue-400 transition duration-200"
          >
            <i class="fab fa-linkedin text-lg"></i>
          </a>
          {% endif %}
        </div>
      </div>
    </div>
    {% endfor %}
  </div>
</div>

<script>
  // Handle the year selection and load team members
  document
    .getElementById("year-select")
    .addEventListener("change", function (e) {
      var year = e.target.value;

      // Show the loading skeleton while data is being fetched
      document.getElementById("team-cards").innerHTML = `
    <div class="animate-pulse">
      <div class="p-4 bg-gray-200 rounded-lg w-48 h-64"></div>
      <div class="mt-4 bg-gray-200 h-6 w-32 mx-auto rounded"></div>
      <div class="mt-2 bg-gray-200 h-4 w-24 mx-auto rounded"></div>
    </div>
  `;

      // Fetch team data for the selected year
      fetch(`/fetch-team?year=${year}`)
        .then((response) => {
          if (!response.ok) {
            throw new Error("Failed to fetch team data.");
          }
          return response.text();
        })
        .then((html) => {
          document.getElementById("team-cards").innerHTML = html;
        })
        .catch((error) => {
          console.error(error);
          document.getElementById("team-cards").innerHTML = `
        <p class="text-red-500">Failed to load team data. Please try again later.</p>
      `;
        });
    });

  document.addEventListener("scroll", function () {
    const parallaxElements = document.querySelectorAll(".parallax-scroll");
    parallaxElements.forEach((element) => {
      let offset = window.scrollY * 0.2;
      element.style.transform = `translateY(-${offset}px)`;
    });
  });
</script>

{% endblock %}
