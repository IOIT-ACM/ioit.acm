{% extends "base.html" %} {% block title %}Gallery{% endblock %} {% block
og_title %}Gallery - IOIT ACM Student Chapter{% endblock %} {% block
og_description %}Explore our team gallery and get to know the faces behind the
IOIT ACM Student Chapter.{% endblock %} {% block og_image %}{{ url_for('static',
filename='img/gallery/team.jpeg') }}{% endblock %} {% block twitter_image %}{{
url_for('static', filename='img/gallery/team.jpeg') }}{% endblock %} {% block
content %}
<div
  class="relative bg-cover bg-center h-[80vh]"
  style="background-image: url('{{ url_for('static', filename='img/gallery/team.jpeg') }}');)"
>
  <div
    class="absolute inset-0 bg-gradient-to-b from-black via-transparent to-black bg-opacity-60 grid place-items-center text-white px-4"
  >
    <div class="max-w-3xl text-center space-y-6">
      <h1 class="text-3xl md:text-6xl font-extrabold leading-tight">Gallery</h1>
    </div>
  </div>
</div>

<div class="container mx-auto p-6 my-8 max-w-7xl">
  <div class="grid md:gap-8 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3">
    <!-- Bit by Bit -->
    <div class="p-6 group overflow-hidden">
      <div>
        <div class="flex justify-between items-center mb-4">
          <h3
            class="text-2xl font-semibold text-blue-600 group-hover:text-blue-900 transition-all"
          >
            Bit by Bit
          </h3>
          <i class="fas fa-arrow-right text-blue-600"></i>
        </div>
        <div class="overflow-hidden rounded-xl mb-6">
          <img
            src="{{ url_for('static', filename='img/gallery/bit-by-bit/1.jpeg') }}"
            alt="Bit by Bit"
            class="w-full h-64 object-cover transition-transform duration-300 group-hover:scale-110"
          />
        </div>
        <p class="text-gray-600">
          Coding competition hosted by ACM IOIT every month
        </p>
      </div>
    </div>

    <!-- Awareness Drive -->
    <div class="p-6 group overflow-hidden">
      <div>
        <div class="flex justify-between items-center mb-4">
          <h3
            class="text-2xl font-semibold text-blue-600 group-hover:text-blue-900 transition-all"
          >
            Awareness Drives
          </h3>
          <i class="fas fa-arrow-right text-blue-600"></i>
        </div>
        <div class="overflow-hidden rounded-xl mb-6">
          <img
            src="{{ url_for('static', filename='img/gallery/drive/1.jpeg') }}"
            alt="Awareness Drive"
            class="w-full h-64 object-cover transition-transform duration-300 group-hover:scale-110"
          />
        </div>
        <p class="text-gray-600">
          Awareness drives in institute about ACM and its activities,
          initiatives
        </p>
      </div>
    </div>

    <!-- Speaker Sessions -->
    <div class="p-6 group overflow-hidden">
      <div>
        <div class="flex justify-between items-center mb-4">
          <h3
            class="text-2xl font-semibold text-blue-600 group-hover:text-blue-900 transition-all"
          >
            Speaker Sessions
          </h3>
          <i class="fas fa-arrow-right text-blue-600"></i>
        </div>
        <div class="overflow-hidden rounded-xl mb-6">
          <img
            src="{{ url_for('static', filename='img/gallery/events/1.jpeg') }}"
            alt="Speaker Sessions"
            class="w-full h-full object-cover transition-transform duration-300 group-hover:scale-110"
          />
        </div>
        <p class="text-gray-600">Speaker sessions hosted by ACM</p>
      </div>
    </div>
  </div>
</div>

<section
  class="grid grid-cols-1 md:grid-cols-2 min-h-[50vh] my-16 max-w-7xl mx-auto"
>
  <div class="flex flex-col justify-center p-8 h-full">
    <h1 class="text-4xl font-bold text-gray-800 mb-4">
      Outstanding Community Service Award
    </h1>
    <p class="text-gray-600 mb-6">
      The IOIT ACM Student Chapter has been recognized for its exceptional
      contribution to the community. Here are some glimpses from the
      achievement.
    </p>
    <a
      href="/gallery"
      class="inline-block text-white bg-gray-800 hover:bg-gray-900 px-4 py-2 rounded w-full md:w-fit"
    >
      More About â†’
    </a>
  </div>

  <div class="h-full">
    <img
      src="{{ url_for('static', filename='img/gallery/award-2024/5.jpeg') }}"
      alt="Outstanding Community Service Award"
      class="w-full h-full object-cover"
    />
  </div>
</section>

<section class="container max-w-7xl mx-auto mb-32">
  <h1 class="text-4xl font-bold text-gray-800 mb-4">Collection</h1>

  <div id="gallery" class="gallery-columns">
    {% for image in collections %}
    <img
      src="{{ url_for('static', filename='img/gallery/' + image.name) }}"
      alt="{{ image.desc }}"
      class="mb-4 bg-gray-800"
    />
    {% endfor %}
  </div>

  {% if total > 20 %}
  <button
    id="load-more"
    class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded mt-10 mx-auto block"
    data-page="2"
  >
    Load More
  </button>
  {% endif %}
</section>

<script>
  const loadMoreButton = document.getElementById("load-more");
  if (loadMoreButton) {
    loadMoreButton.addEventListener("click", () => {
      const gallery = document.getElementById("gallery");
      const page = parseInt(loadMoreButton.dataset.page);

      fetch(`/gallery/load-more?page=${page}`)
        .then((response) => response.json())
        .then((data) => {
          if (data.length > 0) {
            data.forEach((image) => {
              const img = document.createElement("img");
              img.src = `/static/img/gallery/${image.name}`;
              img.alt = image.desc;
              img.className = "mb-4";
              gallery.appendChild(img);
            });
            loadMoreButton.dataset.page = page + 1;
          } else {
            loadMoreButton.style.display = "none";
          }
        })
        .catch((err) => console.error(err));
    });
  }
</script>

{% endblock %}
